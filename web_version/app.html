<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <script type="module" src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="main">
        <div class="left">
            <div class="video-box">
                <video id="webcam" autoplay playsinline muted></video>
                <canvas id="layout-canvas"></canvas>
            </div>
            <div class="btns">
                <button id="dummy-layout">Play in the air</button>
                <button id="capture-btn">Play on paper (1)</button>
                <button id="make-mask" disabled>Like the mask? (2)</button>
            </div> 
        </div>
        <div class="right">
            <div class="out-images">
                <div class="result-box">
                    <img id="captured-img" alt="captured frame">
                </div>
                <div class="result-box">
                    <canvas id="raw-canvas"></canvas>
                </div>
            </div>
            <br>
                <span class="note-display">Playing 🎵🎹: <span id="note-display"></span></span>
            <br>
            <div class="options">
                <div class="controls">
                  <label>🖐️ Max Hands: <span id="hands-count">2</span></label><br>
                  <input type="range" id="maxHandsSlider" min="1" max="2" step="1" value="2"><br>
                  <label>🔎 Detection Confidence: <span id="detect-conf">0.3</span></label><br>
                  <input type="range" id="detectSlider" min="0" max="1" step="0.1" value="0.3"><br>
                  <label>🎯 Tracking Confidence: <span id="track-conf">0.3</span></label><br>
                  <input type="range" id="trackSlider" min="0" max="1" step="0.1" value="0.3"><br>
                  <span class="tiny-txt"><i>Note: Pointy, middle, and ring finger only supported!</i></span><br>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div>
          <p><a href="/">home</a></p>
          <p><a href="/about.html">about</a></p>
          <p><a href="/pianolayout.pdf">download layout</a></p>
        </div>
        <div>
          <p><a target="_blank" href="https://youtu.be/89Pao1wtyRs">watch tutorial</a></p>
          <p><a target="_blank" href="https://youtube.com/@glimpseofdetails">yt channel (idea & thoughts)</a></p>
          <p><a target="_blank" href="https://youtube.com/@god-redd">yt channel (coding & science)</a></p>
        </div>
        <div>
          <p>by Satyam Ghimire, made with love :)</p>
          <ul>
            <li><a target="_blank" href="https://satyamghimire.com.np">my blog</a></li>
            <li><a target="_blank" href="https://github.com/SatyamGhimire/paperpiano">github</a></li>
          </ul>
        </div>
    </footer>
</body>
</html>